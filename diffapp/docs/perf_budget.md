# パフォーマンス予算（Diffapp Ver1.2）

- 対象画像サイズ: 1280px に正規化（内部処理の基準解像度）
- 目標処理時間: 1 比較あたり 5 秒以内（SSIM → 二値化 → 連結成分解析 → NMS → 上位 20 件）
- タイムアウト: 5 秒の上限を超過する処理は UI が停滞しないよう適切に中断・再試行提示
- リソース方針: 低メモリ端末を考慮し、一時メモリ/ファイルを最小化（`perf_low_memory_plan.md` 参照）
- 検証: `test/performance_ssim_1280_test.dart` にて擬似画像での処理が 5 秒未満で完了することを確認

## 補足

- CNN 推論は軽量モデルを想定し、オフライン実行でのレイテンシを考慮
- スレッド/並列化はプラットフォーム標準の範囲で最適化（ホットパス: SSIM/NMS）
- 将来のネイティブ最適化（OpenCV/TFLite FFI）で更なる高速化を検討
